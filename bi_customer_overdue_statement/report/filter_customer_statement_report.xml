<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<template id="filter_report_customer_statement">
			<t t-call="web.external_layout">
				<t t-set="doc" t-value="doc.with_context({'lang':doc.lang})"/>
				<t t-set="company" t-value="res_company"/>
				<div class="text-right" style="margin-right: 15em;">
					<p>
						<span t-esc="doc.name"/><br/>
						<span t-esc="doc.street"/><br/>
						<span t-esc="doc.street2"/><br/>
						<span t-esc="doc.city"/>
						<span t-esc="doc.state_id.name"/>
						<span t-esc="doc.zip"/><br/>
						<span t-esc="doc.country_id.name"/>
					</p>
					<br/>
				</div>
				<div class="page">
					
					<div class="container" style="margin:5px 0 0 1px;">
						<strong><span>Date : </span></strong><span t-esc="datetime.datetime.now().strftime('%d/%m/%Y')"/>
					</div>

						<div class="container mt16 mb16" style="margin-left:5px;">
							<t t-if="doc.statement_from_date">
								<strong><span>From : </span></strong>
								<span t-esc="doc.statement_from_date"/>
							</t>
							<t t-if="doc.statement_to_date">
								<strong style="margin-left:10px;">
									<span>To : </span></strong>
								<span t-esc="doc.statement_to_date"/>
							</t>
						</div>

						<table class="table table-condensed" name="filter_line_table">
							<thead>
								<tr class="text-center">
									<th>Date</th>
									<th>Ref</th>
									<th>Company</th>
									<th>Due Date</th>
									<th>Allocation</th>
									<th>Amount</th>
									<th>Balance</th>
								</tr>
							</thead>
							<tbody>

								<tr t-foreach="doc.customer_statement_line_ids" t-as="line">
									<td>
										<span t-esc="line.invoice_date"/>
									</td>
									<td>
										<span t-esc="line.name"/>
									</td>
									<td>
										<span t-esc="line.company_id.name"/>
									</td>
									<td>
										<span t-esc="line.invoice_date_due"/>
									</td>
									<td>
										<span t-esc="line.allocation"/>
									</td>
									<td class="text-right">
										<span t-esc="line.total_signed_amount" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
									</td>
									<td class="text-right">
										<span t-esc="line.balance" t-options="{'widget': 'monetary', 'display_currency': line.currency_usd}"/>
									</td>
									
								</tr>

							</tbody>
						</table>
						
				</div>
				
			</t>
		</template>

		<template id="filter_customer_statement">
			<t t-call="web.html_container">
				<t t-foreach="docs" t-as="doc">
					<t t-call="bi_customer_overdue_statement.filter_report_customer_statement" t-lang="doc.lang" />
				</t>
			</t>
		</template>
	</data>
</odoo>
